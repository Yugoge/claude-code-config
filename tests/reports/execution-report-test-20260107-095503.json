{
  "request_id": "test-20260107-095503",
  "timestamp": "2026-01-07T09:55:03Z",
  "executor": {
    "status": "completed",
    "execution_started": "2026-01-07T09:55:03Z",
    "execution_completed": "2026-01-07T09:55:48Z",
    "total_duration_seconds": 45.0,
    "results": [
      {
        "validator": "validate-venv-usage",
        "type": "script",
        "edge_case": "EC002",
        "priority": "critical",
        "execution": {
          "started_at": "2026-01-07T09:55:03Z",
          "completed_at": "2026-01-07T09:55:12Z",
          "duration_seconds": 9.0,
          "exit_code": 1,
          "status": "fail"
        },
        "result": {
          "validator": "validate-venv-usage",
          "status": "fail",
          "violations": [
            {
              "file": "hooks/README-TODO-INJECTION.md",
              "line": 147,
              "pattern": "python3 ~/.claude/hooks/hook-todo-injection.py",
              "expected": "source venv/bin/activate && python3 ~/.claude/hooks/hook-todo-injection.py",
              "severity": "critical"
            },
            {
              "file": "hooks/README-TODO-INJECTION.md",
              "line": 186,
              "pattern": "python3 ~/.claude/hooks/hook-todo-injection.py",
              "expected": "source venv/bin/activate && python3 ~/.claude/hooks/hook-todo-injection.py",
              "severity": "critical"
            },
            {
              "file": "agents/qa.md",
              "line": 281,
              "pattern": "python ~/.claude/scripts/todo/xxx.py",
              "expected": "source venv/bin/activate && python ~/.claude/scripts/todo/xxx.py",
              "severity": "critical"
            },
            {
              "file": "docs/test/test-implementation-guide.md",
              "line": 523,
              "pattern": "python ~/.claude/script.py",
              "expected": "source venv/bin/activate && python ~/.claude/script.py",
              "severity": "critical"
            },
            {
              "file": "docs/test/edge-case-analysis-summary.md",
              "line": 48,
              "pattern": "python ~/.claude/scripts/xxx.py",
              "expected": "source venv/bin/activate && python ~/.claude/scripts/xxx.py",
              "severity": "critical"
            },
            {
              "file": "docs/clean/completion-20251226-115500.md",
              "line": 270,
              "pattern": "python ~/.claude/scripts/todo/clean.py",
              "expected": "source venv/bin/activate && python ~/.claude/scripts/todo/clean.py",
              "severity": "critical"
            },
            {
              "file": "docs/clean/dev-subagent-violations-fix-20251228.md",
              "line": 18,
              "pattern": "python ~/.claude/scripts/todo/clean.py",
              "expected": "source venv/bin/activate && python ~/.claude/scripts/todo/clean.py",
              "severity": "critical"
            },
            {
              "file": "docs/clean/dev-subagent-violations-fix-20251228.md",
              "line": 123,
              "pattern": "python ~/.claude/scripts/todo/{workflow-name}.py",
              "expected": "source venv/bin/activate && python ~/.claude/scripts/todo/{workflow-name}.py",
              "severity": "critical"
            },
            {
              "file": "docs/clean/dev-subagent-violations-fix-20251228.md",
              "line": 249,
              "pattern": "python3 /root/.claude/scripts/todo/clean.py",
              "expected": "source venv/bin/activate && python3 /root/.claude/scripts/todo/clean.py",
              "severity": "critical"
            }
          ],
          "violations_count": 9,
          "files_affected": [
            "hooks/README-TODO-INJECTION.md",
            "agents/qa.md",
            "docs/test/test-implementation-guide.md",
            "docs/test/edge-case-analysis-summary.md",
            "docs/clean/completion-20251226-115500.md",
            "docs/clean/dev-subagent-violations-fix-20251228.md"
          ],
          "summary": {
            "total_files_checked": 4138,
            "violations_found": 9
          },
          "recommendations": [
            "Update Python invocations to use: source ~/.claude/venv/bin/activate && python3 script.py",
            "See agents/dev.md Section 4 for proper venv usage patterns"
          ]
        }
      },
      {
        "validator": "validate-step-numbering",
        "type": "script",
        "edge_case": "EC004",
        "priority": "critical",
        "execution": {
          "started_at": "2026-01-07T09:55:03Z",
          "completed_at": "2026-01-07T09:55:09Z",
          "duration_seconds": 6.0,
          "exit_code": 0,
          "status": "pass"
        },
        "result": {
          "validator": "validate-step-numbering",
          "status": "pass",
          "violations": [],
          "violations_count": 0,
          "files_affected": [],
          "summary": {
            "total_files_checked": 32,
            "violations_found": 0
          },
          "recommendations": []
        }
      },
      {
        "validator": "validate-todowrite-requirement",
        "type": "script",
        "edge_case": "EC003",
        "priority": "critical",
        "execution": {
          "started_at": "2026-01-07T09:55:03Z",
          "completed_at": "2026-01-07T09:55:10Z",
          "duration_seconds": 7.0,
          "exit_code": 1,
          "status": "fail"
        },
        "result": {
          "validator": "validate-todowrite-requirement",
          "status": "fail",
          "violations": [
            {
              "file": "commands/quick-prototype.md",
              "steps": 5,
              "missing_todo_script": "scripts/todo/quick-prototype.py",
              "severity": "critical"
            },
            {
              "file": "commands/file-analyze.md",
              "steps": 6,
              "missing_todo_script": "scripts/todo/file-analyze.py",
              "severity": "critical"
            },
            {
              "file": "commands/dev.md",
              "steps_in_command": 13,
              "steps_in_todo": 11,
              "todo_script": "scripts/todo/dev.py",
              "severity": "major"
            },
            {
              "file": "commands/reflect-search.md",
              "steps": 5,
              "missing_todo_script": "scripts/todo/reflect-search.py",
              "severity": "critical"
            }
          ],
          "violations_count": 4,
          "files_affected": [
            "commands/quick-prototype.md",
            "commands/file-analyze.md",
            "commands/dev.md",
            "commands/reflect-search.md"
          ],
          "summary": {
            "total_commands_checked": 32,
            "violations_found": 4
          },
          "recommendations": [
            "Create todo script: scripts/todo/{command-name}.py",
            "Use clean.py or dev.py as template",
            "Ensure todo script step count matches command step count",
            "See agents/dev.md Section 7 for todo script requirements"
          ]
        }
      },
      {
        "validator": "validate-chinese-content",
        "type": "script",
        "edge_case": "EC006",
        "priority": "major",
        "execution": {
          "started_at": "2026-01-07T09:55:03Z",
          "completed_at": "2026-01-07T09:55:22Z",
          "duration_seconds": 19.0,
          "exit_code": 1,
          "status": "fail"
        },
        "result": {
          "validator": "validate-chinese-content",
          "status": "fail",
          "violations_count": 2963,
          "files_affected": [
            "hooks/auto-commit.sh",
            "hooks/start-fswatch-all.sh",
            "hooks/install-protection-all.sh",
            "settings.json",
            "hooks/project-settings-template.json",
            "venv/lib/python3.12/site-packages/pip/_vendor/idna/uts46data.py",
            "venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py",
            "venv/lib/python3.12/site-packages/playwright/async_api/_generated.py",
            "venv/lib/python3.12/site-packages/playwright/driver/package/api.json"
          ],
          "summary": {
            "total_files_checked": 9483,
            "violations_found": 2963
          },
          "recommendations": [
            "Translate Chinese content to English",
            "Move bilingual documentation to docs/ (allowed there)",
            "Archive legacy Chinese files to docs/archive/legacy-chinese/",
            "Use English-only for .sh, .py, .json files"
          ]
        }
      },
      {
        "validator": "validate-claude-md-protection",
        "type": "script",
        "edge_case": "EC001",
        "priority": "high",
        "execution": {
          "started_at": "2026-01-07T09:55:03Z",
          "completed_at": "2026-01-07T09:55:25Z",
          "duration_seconds": 22.0,
          "exit_code": 1,
          "status": "fail"
        },
        "result": {
          "validator": "validate-claude-md-protection",
          "status": "fail",
          "violations": [
            {
              "file": "agents/cleanliness-inspector.md",
              "missing_protection": "CLAUDE.md",
              "severity": "critical"
            },
            {
              "file": "agents/cleanliness-inspector.md",
              "missing_protection": "README.md",
              "severity": "critical"
            },
            {
              "file": "agents/cleanliness-inspector.md",
              "missing_protection": "ARCHITECTURE.md",
              "severity": "critical"
            },
            {
              "file": "docs/clean/cleanliness-report-clean-20251228-155527.json",
              "recommended_relocation": "/root/.claude/CLAUDE.md",
              "severity": "critical"
            }
          ],
          "violations_count": 4,
          "files_affected": [
            "agents/cleanliness-inspector.md",
            "docs/clean/cleanliness-report-clean-20251228-155527.json"
          ],
          "summary": {
            "official_files_checked": 3,
            "violations_found": 4
          },
          "recommendations": [
            "Add official files to allow-list in agents/cleanliness-inspector.md",
            "Document official files in commands/clean.md Step 1",
            "Format: 'ALLOWED: README.md, ARCHITECTURE.md, CLAUDE.md (official Claude Code files)'",
            "Review and update inspection reports to remove relocation recommendations"
          ]
        }
      },
      {
        "validator": "validate-file-naming",
        "type": "script",
        "edge_case": "EC007",
        "priority": "minor",
        "execution": {
          "started_at": "2026-01-07T09:55:26Z",
          "completed_at": "2026-01-07T09:55:28Z",
          "duration_seconds": 2.0,
          "exit_code": 0,
          "status": "pass"
        },
        "result": {
          "validator": "validate-file-naming",
          "status": "pass",
          "violations": [],
          "violations_count": 0,
          "files_affected": [],
          "summary": {
            "total_files_checked": 24,
            "violations_found": 0
          },
          "recommendations": []
        }
      },
      {
        "validator": "validate-debug-file-age",
        "type": "script",
        "edge_case": "EC008",
        "priority": "critical",
        "execution": {
          "started_at": "2026-01-07T09:55:26Z",
          "completed_at": "2026-01-07T09:55:38Z",
          "duration_seconds": 12.0,
          "exit_code": 1,
          "status": "fail"
        },
        "result": {
          "validator": "validate-debug-file-age",
          "status": "fail",
          "violations_count": 2268,
          "files_affected": [
            "debug/3f284aa9-ee97-4226-9c1f-856acdcc615b.txt",
            "debug/a99292cd-b24f-4b02-8842-94666cc03f71.txt",
            "debug/31f15922-59fa-44c5-b1d6-38b618d895b8.txt"
          ],
          "summary": {
            "total_files_checked": 2748,
            "violations_found": 2268,
            "total_size_mb": 128.33,
            "oldest_file_days": 73,
            "max_age_days": 30
          },
          "recommendations": [
            "Archive files older than 30 days to debug/archive-YYYY-MM/",
            "Total space to free: 128.33 MB",
            "Use /clean command to archive old debug files automatically",
            "Consider setting up automated cleanup (cron/systemd timer)"
          ]
        }
      },
      {
        "validator": "validate-optionality-language",
        "type": "script",
        "edge_case": "EC005",
        "priority": "critical",
        "execution": {
          "started_at": "2026-01-07T09:55:26Z",
          "completed_at": "2026-01-07T09:55:32Z",
          "duration_seconds": 6.0,
          "exit_code": 0,
          "status": "pass"
        },
        "result": {
          "validator": "validate-optionality-language",
          "status": "pass",
          "violations": [],
          "violations_count": 0,
          "files_affected": [],
          "summary": {
            "total_files_checked": 32,
            "violations_found": 0
          },
          "recommendations": []
        }
      },
      {
        "validator": "validate-workflow-json-cleanup",
        "type": "script",
        "edge_case": "General",
        "priority": "medium",
        "execution": {
          "started_at": "2026-01-07T09:55:26Z",
          "completed_at": "2026-01-07T09:55:30Z",
          "duration_seconds": 4.0,
          "exit_code": 0,
          "status": "pass"
        },
        "result": {
          "validator": "validate-workflow-json-cleanup",
          "status": "pass",
          "violations": [],
          "violations_count": 0,
          "files_affected": [],
          "summary": {
            "total_files_checked": 13,
            "violations_found": 0
          },
          "recommendations": []
        }
      },
      {
        "validator": "validate-checklist-completeness",
        "type": "script",
        "edge_case": "General",
        "priority": "medium",
        "execution": {
          "started_at": "2026-01-07T09:55:26Z",
          "completed_at": "2026-01-07T09:55:44Z",
          "duration_seconds": 18.0,
          "exit_code": 1,
          "status": "fail"
        },
        "result": {
          "validator": "validate-checklist-completeness",
          "status": "fail",
          "violations": [
            {
              "file": "agents/dev.md",
              "missing_item": "Meaningful naming",
              "severity": "major"
            },
            {
              "file": "agents/dev.md",
              "missing_item": "Git root cause",
              "severity": "major"
            }
          ],
          "violations_count": 2,
          "files_affected": [
            "agents/dev.md"
          ],
          "summary": {
            "required_items": 7,
            "found_items": 5,
            "missing_items": 2
          },
          "recommendations": [
            "Add missing items to Quality Checklist in agents/dev.md",
            "Ensure checklist is within '## Quality Checklist' section",
            "Missing: Meaningful naming, Git root cause"
          ]
        }
      }
    ],
    "summary": {
      "total_tests": 10,
      "passed": 4,
      "failed": 6,
      "errors": 0,
      "pass_rate": 40.0,
      "total_violations_found": 5250,
      "priority_breakdown": {
        "critical": {
          "total": 5,
          "passed": 2,
          "failed": 3,
          "errors": 0
        },
        "high": {
          "total": 1,
          "passed": 0,
          "failed": 1,
          "errors": 0
        },
        "major": {
          "total": 1,
          "passed": 0,
          "failed": 1,
          "errors": 0
        },
        "medium": {
          "total": 2,
          "passed": 1,
          "failed": 1,
          "errors": 0
        },
        "minor": {
          "total": 1,
          "passed": 1,
          "failed": 0,
          "errors": 0
        }
      },
      "edge_cases": {
        "total_covered": 8,
        "total_passed": 4,
        "prevented": [
          "EC004",
          "EC005",
          "EC007",
          "General-workflow-json-cleanup"
        ],
        "failed": [
          "EC001",
          "EC002",
          "EC003",
          "EC006",
          "EC008",
          "General-checklist-completeness"
        ]
      }
    },
    "failed_tests": [
      {
        "validator": "validate-venv-usage",
        "edge_case": "EC002",
        "violations_count": 9,
        "files_affected": [
          "hooks/README-TODO-INJECTION.md",
          "agents/qa.md",
          "docs/test/test-implementation-guide.md",
          "docs/test/edge-case-analysis-summary.md",
          "docs/clean/completion-20251226-115500.md",
          "docs/clean/dev-subagent-violations-fix-20251228.md"
        ],
        "severity": "critical",
        "recommendation": "Update Python invocations to use: source ~/.claude/venv/bin/activate && python3 script.py"
      },
      {
        "validator": "validate-todowrite-requirement",
        "edge_case": "EC003",
        "violations_count": 4,
        "files_affected": [
          "commands/quick-prototype.md",
          "commands/file-analyze.md",
          "commands/dev.md",
          "commands/reflect-search.md"
        ],
        "severity": "critical",
        "recommendation": "Create todo scripts for commands with 5+ steps: scripts/todo/{command-name}.py"
      },
      {
        "validator": "validate-chinese-content",
        "edge_case": "EC006",
        "violations_count": 2963,
        "files_affected": [
          "hooks/auto-commit.sh",
          "hooks/start-fswatch-all.sh",
          "hooks/install-protection-all.sh",
          "settings.json",
          "hooks/project-settings-template.json",
          "venv/lib/python3.12/site-packages/pip/_vendor/idna/uts46data.py",
          "venv/lib/python3.12/site-packages/playwright/sync_api/_generated.py",
          "venv/lib/python3.12/site-packages/playwright/async_api/_generated.py",
          "venv/lib/python3.12/site-packages/playwright/driver/package/api.json"
        ],
        "severity": "major",
        "recommendation": "Translate Chinese content to English or archive to docs/archive/legacy-chinese/"
      },
      {
        "validator": "validate-claude-md-protection",
        "edge_case": "EC001",
        "violations_count": 4,
        "files_affected": [
          "agents/cleanliness-inspector.md",
          "docs/clean/cleanliness-report-clean-20251228-155527.json"
        ],
        "severity": "high",
        "recommendation": "Add CLAUDE.md, README.md, ARCHITECTURE.md to official files allow-list in cleanliness-inspector"
      },
      {
        "validator": "validate-debug-file-age",
        "edge_case": "EC008",
        "violations_count": 2268,
        "files_affected": [
          "debug/3f284aa9-ee97-4226-9c1f-856acdcc615b.txt",
          "debug/a99292cd-b24f-4b02-8842-94666cc03f71.txt",
          "debug/31f15922-59fa-44c5-b1d6-38b618d895b8.txt"
        ],
        "severity": "critical",
        "recommendation": "Archive 2268 debug files older than 30 days (128.33 MB total)"
      },
      {
        "validator": "validate-checklist-completeness",
        "edge_case": "General",
        "violations_count": 2,
        "files_affected": [
          "agents/dev.md"
        ],
        "severity": "medium",
        "recommendation": "Add missing checklist items: 'Meaningful naming', 'Git root cause'"
      }
    ]
  }
}
